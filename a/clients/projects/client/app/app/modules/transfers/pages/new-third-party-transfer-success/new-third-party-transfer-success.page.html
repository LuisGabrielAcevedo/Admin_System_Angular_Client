<div class="transfer-success">
	<mcy-primary-page-layout
		[title]="contentDetailTransferSuccess?.title"
		[back]="'pages.transfers.thirdParty.success.backTo' | translate"
		(handleBack)="onPrimaryButtonClick()"
	>
		<div class="transfer-success__panel" body>
			<mcy-primary-panel-layout *ngIf="lastTransferRequest">
				<div class="transfer-success__body" body>
					<mcy-icon class="{{contentDetailTransferSuccess?.class}}">{{contentDetailTransferSuccess?.icon}}</mcy-icon>
					<div class="transfer-success__content">
						<div class="transfer-success__receipt">
							<span class="transfer-success__receipt-label">
								{{contentDetailTransferSuccess.descriptionReciept}}
							</span>
							<span class="transfer-success__receipt-value" >
								{{ requestId }}
							</span>
						</div>

						<div class="transfer-success__detail-row">
							<div class="transfer-success__detail">
								<span class="transfer-success__detail-label">
									{{ 'pages.transfers.thirdParty.success.destinatary' | translate }}
								</span>
								<span class="transfer-success__detail-value" *ngIf="lastTransferRequest">
									{{ destinationHolder }}
								</span>
							</div>
							<div class="transfer-success__detail">
								<span class="transfer-success__detail-label">
									{{ 'pages.transfers.thirdParty.success.cbu' | translate }}
								</span>
								<span class="transfer-success__detail-value" *ngIf="lastTransferRequest">
									{{ destinationCbvu }}
								</span>
							</div>
						</div>

						<div class="transfer-success__detail-row">
							<div class="transfer-success__detail">
								<span class="transfer-success__detail-label">
									{{ 'pages.transfers.thirdParty.success.amount' | translate }}
								</span>
								<span class="transfer-success__detail-value" *ngIf="lastTransferRequest">
									{{ lastTransferRequest.currency.symbol }} {{ lastTransferRequest.amount | mcyAmount }}
								</span>
							</div>
							<div class="transfer-success__detail">
								<span class="transfer-success__detail-label">
									{{ 'pages.transfers.thirdParty.success.paymentDescription' | translate }}
								</span>
								<span class="transfer-success__concept">
									{{ transferState.newTransferFormValue.concept.description }}
								</span>
								<span class="transfer-success__description">
									{{ transferState.newTransferFormValue.paymentDescription }}
								</span>
							</div>
						</div>

						<div class="transfer-success__actions">
							<div class="transfer-success__action">
								<mcy-contextual-button
									*ngIf="contentDetailTransferSuccess?.state !== 'AUTHORIZED'"
									[id]="'transfer-success__action-detail'"
									[prefixIcon]="contentDetailTransferSuccess?.iconButtonSecundary"
									(handleClick)="detailRequest()">
									{{ 'pages.transfers.thirdParty.success.detailRequest' | translate }}
								</mcy-contextual-button>
								<mcy-contextual-button
									*ngIf="contentDetailTransferSuccess.allowDownload"
									[id]="'transfer-success__action-detail'"
									[prefixIcon]="contentDetailTransferSuccess?.iconButtonSecundary"
									(handleClick)="downloadReceipt()">
									{{ 'pages.transfers.thirdParty.success.downloadReceipt' | translate }}
								</mcy-contextual-button>
							</div>
						</div>
					</div>
				</div>
				<div footer>
					<mcy-button
						[id]="'transfer-success__action-other-transfer'"
						class="transfer-success__action-button"
						color="secondary"
						(handleClick)="onSecondaryButtonClick()">
						{{ 'pages.transfers.thirdParty.success.secondaryAction' | translate }}
					</mcy-button>
					<mcy-button
						[id]="'transfer-success__action-end-transfer'"
						class="transfer-success__action-button"
						color="primary"
						(handleClick)="onPrimaryButtonClick()">
						{{ 'pages.transfers.thirdParty.success.primaryAction' | translate }}
					</mcy-button>
				</div>
				<div class="transfer-success__side-box" description>
					<mcy-new-contact-box
						*ngIf="(isContactInContactList(destinationContact) | async) === false"
						[name]="destinationContact.name"
						(handleClick)="openAddContact()">
					</mcy-new-contact-box>
				</div>
			</mcy-primary-panel-layout>
		</div>
	</mcy-primary-page-layout>
</div>
