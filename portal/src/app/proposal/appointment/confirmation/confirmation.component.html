<div class="container pt-5">
  <h1 class="section-header__title">
    {{ '@Appointment done confirmation' | translate }}
  </h1>
</div>

<app-proposal-detail
  *ngIf="proposal"
  [proposal]="proposal"
></app-proposal-detail>

<div *ngIf="selectedDate" class="container appointment__date-container">
  <h4>{{ '@Confirm appointment made' | translate }}</h4>
  <div class="row py-3 d-flex align-items-center">
    <div class="col col-sm-auto pb-3 pb-sm-0">
      <ngb-datepicker
        #dp
        [(ngModel)]="selectedDate"
        [minDate]="selectedDate"
        [maxDate]="selectedDate"
      ></ngb-datepicker>
    </div>
    <div class="col col-md-7">
      <p class="appointment__date-title">
        {{ '@Appointment made on' | translate }}
      </p>
      <h1 class="appointment__date-text">
        {{ viewDate?.day + '/' + viewDate?.month + '/' + viewDate?.year }}
      </h1>
      <p
        class="appointment__date-reminder-text appointment__date-reminder-text--danger"
      >
        {{ '@You must confirm the appointment was made before' | translate }}
        {{
          viewEndDate?.day + '/' + viewEndDate?.month + '/' + viewEndDate?.year
        }}
      </p>
    </div>
  </div>
</div>

<div *ngIf="!selectedDate" class="container appointment__date-container">
  <h4>{{ '@Confirm appointment made' | translate }}</h4>
  <div class="row py-3 d-flex align-items-center">
    <div class="col col-sm-auto pb-3 pb-sm-0">
      <div class="alert alert-warning">
        {{ '@This proposal has no appointment to confirm' | translate }}
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row form-actions">
    <div class="col text-right">
      <button
        (click)="confirmAppointment()"
        type="button"
        class="btn btn-secondary btn-lg rounded-pill"
        [disabled]="!proposal?.proposalNumber || formSubmitted || !selectedDate"
      >
        {{ '@Appointment done' | translate
        }}<i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>
</div>
