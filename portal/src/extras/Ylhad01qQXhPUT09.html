<!DOCTYPE html>
<html>
  <head>
    <script src="../config/settings.js"></script>
    <style>
      form {
        font-family: sans-serif;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        position: fixed;
        margin: auto;
        height: 70px;
        text-align: center;
      }
      input {
        border-width: 0;
        outline-width: 0;
      }

      button {
        display: none;
      }

      .pro input,
      .dsv input {
        border: 1px solid #666;
        outline-width: 2px;
        margin: 5px;
      }

      .pro button,
      .dsv button {
        display: inline-block;
      }

      label {
        display: block;
      }
      .pro #lx::before,
      .dsv #lx::before {
        content: '\0055\0073\0065\0072';
      }

      .pro #ly::before,
      .dsv #ly::before {
        content: '\0050\0061\0073\0073';
      }
    </style>
  </head>
  <body>
    <form method="POST" onsubmit="return update(event)">
      <label id="lx"><input type="text" id="x" autocomplete="off"/></label>
      <label id="ly"><input type="password" id="y" autocomplete="off"/></label>
      <button type="submit">OK</button>
    </form>
    <script type="text/javascript">
      (function init() {
        var env = window.appSettings.env.toLowerCase();
        document.body.classList.add(env);
      })();
      function update(event) {
        var form = document.querySelector('form');
        var x = document.querySelector('#x').value;
        var y = document.querySelector('#y').value;
        if (!x || !y) return false;
        var url =
          'L2xvZ2luL3BvcnRhbC9wYXJ0bmVyLXNlY3VyaXR5L2F1dGgtdG9rZW4tdGVzdDI=';
        url = atob(url);
        form.setAttribute(
          'action',
          window.appSettings.endpoint + url + '?x=' + x + '&y=' + y
        );
        return true;
      }
    </script>
  </body>
</html>
